(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c2006a2"],{"0753":function(e,t,c){e.exports=c.p+"img/title-dec-sm.58dd17b9.png"},"0feb":function(e,t,c){"use strict";var a=c("7a23"),n={class:"modal fade",tabindex:"-1"},r={class:"modal-dialog modal-dialog-centered"},o={class:"modal-content bg-gray-dark p-sm-3 p-2"},i=Object(a["createVNode"])("button",{class:"ms-auto btn-close text-light",type:"button","data-bs-dismiss":"modal"},null,-1),s={class:"text-center pb-sm-3 pb-2 px-sm-4 px-2"},l={class:"mb-4"},d={class:"fw-bold fs-7 text-uppercase"},u={class:"container"},m={class:"row text-center"},b={class:"ls-sm"},p={class:"fs-3 fw-bold text-primary"},f={class:"fw-bold text-primary"},j={class:"fs-6 text-decoration-line-through"};function O(e,t,c,O,h,g){var v=Object(a["resolveComponent"])("Counter");return Object(a["openBlock"])(),Object(a["createBlock"])("div",n,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",o,[i,Object(a["createVNode"])("div",s,[Object(a["createVNode"])("div",l,[Object(a["createVNode"])("h6",d,Object(a["toDisplayString"])(h.tempProduct.subtitle),1),Object(a["createVNode"])("h4",null,Object(a["toDisplayString"])(h.tempProduct.title),1)]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])("img",{class:"col-md-8 col-sm-8 col-9 mx-auto",src:h.tempProduct.imageUrl,alt:h.tempProduct.subtitle},null,8,["src","alt"])])]),Object(a["createVNode"])("div",b,[Object(a["createVNode"])("span",p,Object(a["toDisplayString"])(e.$helper.currency(h.tempProduct.price)),1),Object(a["createVNode"])("span",f," / "+Object(a["toDisplayString"])(h.tempProduct.unit)+"  ",1),Object(a["createVNode"])("span",j,Object(a["toDisplayString"])(e.$helper.currency(h.tempProduct.origin_price)),1)]),Object(a["createVNode"])(v,{class:"counter-lg w-100 mb-3",fixed:"",value:h.tempProduct.qty,"onUpdate:value":t[1]||(t[1]=function(e){return h.tempProduct.qty=e})},null,8,["value"]),Object(a["createVNode"])("button",{class:"btn btn-primary w-100",type:"button","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=function(){return g.submitCartItem&&g.submitCartItem.apply(g,arguments)})},"加入購物車")])])])])}var h=c("7355"),g={name:"ProductModal",components:{Counter:h["a"]},emits:["submit-cart-item"],props:{product:{type:Object,defualt:function(){}}},data:function(){return{tempProduct:JSON.parse(JSON.stringify(this.product))}},watch:{product:function(){this.tempProduct=JSON.parse(JSON.stringify(this.product))}},methods:{submitCartItem:function(){this.$emit("submit-cart-item",this.tempProduct)}}};g.render=O;t["a"]=g},"2d11":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),n=c("0753"),r=c.n(n),o={class:"min-vh-100 py-7"},i={class:"container"},s={class:"row justify-content-center mt-lg-6"},l={class:"col-xl-3 col-lg-4 col-md-5 align-self-center"},d={class:"mx-md-0 mx-4"},u={class:"offset-lg-1 col-lg-6 col-md-7"},m={class:"border-bottom border-primary pb-3 mt-md-0 mt-5"},b={class:"w-100 mt-5"},p={class:"align-top"},f=Object(a["createVNode"])("td",{class:"fw-bold text-nowrap text-primary pe-4 pb-4"},"材料",-1),j={class:"ls-sm pb-4"},O={class:"w-100"},h={class:"align-top pt-4"},g=Object(a["createVNode"])("td",{class:"fw-bold text-nowrap text-primary pe-4"},"作法",-1),v={class:"ls-sm"},N={class:"mt-8"},V=Object(a["createVNode"])("div",{class:"text-center col-8 mx-auto"},[Object(a["createVNode"])("h3",{class:"mb-0 lh-1"},"相關商品"),Object(a["createVNode"])("img",{class:"mw-100",src:r.a,alt:""})],-1),x={class:"row justify-content-center gx-lg-5 my-6"},y={class:"col-xl-3 col-lg-4 col-md-5 align-self-center"},w={class:"mx-md-0 mx-sm-7 mx-4"},k={class:"col-xl-4 col-lg-5 col-md-7"},C={class:"text-md-start text-center mt-md-0 mt-5"},M={class:"text-uppercase"},S={class:"mt-4 mx-md-0 mx-sm-5 mx-4"},R={class:"text-justify font-sans fw-light ls-sm text-truncate truncate-multi-line",style:{"-webkit-line-clamp":"5"}},D={class:"d-md-flex d-none row mt-4"},P=Object(a["createVNode"])("button",{class:"btn btn-decorative",type:"button"},"瞭解更多",-1),B={class:"col text-center"},$={class:"d-md-none d-flex justify-content-center mt-4"},I=Object(a["createVNode"])("button",{class:"btn btn-sm btn-decorative",type:"button"},"瞭解更多",-1),q={class:"mt-8"},_=Object(a["createVNode"])("div",{class:"text-center col-8 mx-auto"},[Object(a["createVNode"])("h3",{class:"mb-0 lh-1"},"其他酒譜"),Object(a["createVNode"])("img",{class:"mw-100",src:r.a,alt:""})],-1),F={class:"row"},J={class:"col-xl-9 col-lg-10 mx-auto mt-6"},L={class:"row gx-xl-7 gx-md-5 gx-sm-3 align-items-center"},T={class:"position-relative mb-3 ratio ratio-2x3"},U={class:"cover-parent overlay hover\n                      d-flex flex-column text-center justify-content-center lh-base"},A={class:"fs-7 fly-in-top"},H={class:"fs-5 mb-2"},W=Object(a["createVNode"])("button",{class:"btn btn-sm btn-decorative",type:"button"},"查看酒譜",-1);function z(e,t,c,n,r,z){var E=Object(a["resolveComponent"])("router-link"),G=Object(a["resolveComponent"])("ProductModal");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("div",o,[Object(a["createVNode"])("div",i,[Object(a["createVNode"])("section",s,[Object(a["createVNode"])("div",l,[Object(a["createVNode"])("div",d,[Object(a["createVNode"])("img",{class:"w-100",src:r.recipe.imageUrl,alt:r.recipe.subtitle},null,8,["src","alt"])])]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])("h2",null,Object(a["toDisplayString"])(r.recipe.title)+" "+Object(a["toDisplayString"])(r.recipe.subtitle),1)]),Object(a["createVNode"])("table",b,[Object(a["createVNode"])("tr",p,[f,Object(a["createVNode"])("td",j,[Object(a["createVNode"])("table",O,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.recipe.content.ingredients,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t,class:"align-top"},[Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(t.name),1),Object(a["createVNode"])("td",{class:"text-end pe-3",innerHTML:e.$helper.preventWrap(t.amount)},null,8,["innerHTML"])])})),128))])])]),Object(a["createVNode"])("tr",h,[g,Object(a["createVNode"])("td",v,[Object(a["createVNode"])("ol",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.recipe.content.steps,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{key:e},Object(a["toDisplayString"])(e),1)})),128))])])])])])]),Object(a["createVNode"])("section",N,[V,Object(a["createVNode"])("div",x,[Object(a["createVNode"])("div",y,[Object(a["createVNode"])("div",w,[Object(a["createVNode"])("img",{class:"w-100",src:r.related.imageUrl,alt:r.related.subtitle},null,8,["src","alt"])])]),Object(a["createVNode"])("div",k,[Object(a["createVNode"])("div",C,[Object(a["createVNode"])("h6",M,Object(a["toDisplayString"])(r.related.subtitle),1),Object(a["createVNode"])("h3",null,Object(a["toDisplayString"])(r.related.title),1)]),Object(a["createVNode"])("div",S,[Object(a["createVNode"])("p",R,Object(a["toDisplayString"])(r.related.content.main),1)]),Object(a["createVNode"])("div",D,[Object(a["createVNode"])(E,{class:"col text-center",to:"/product/".concat(r.related.id)},{default:Object(a["withCtx"])((function(){return[P]})),_:1},8,["to"]),Object(a["createVNode"])("div",B,[Object(a["createVNode"])("button",{class:"btn btn-decorative",type:"button","data-bs-toggle":"modal","data-bs-target":"#product-modal",onClick:t[1]||(t[1]=function(e){return z.showModal(r.related)})},"加入購物車")])]),Object(a["createVNode"])("div",$,[Object(a["createVNode"])(E,{to:"/product/".concat(r.related.id)},{default:Object(a["withCtx"])((function(){return[I]})),_:1},8,["to"]),Object(a["createVNode"])("button",{class:"btn btn-sm btn-decorative ms-sm-6 ms-5",type:"button","data-bs-toggle":"modal","data-bs-target":"#product-modal",onClick:t[2]||(t[2]=function(e){return z.showModal(r.related)})},"加入購物車")])])])]),Object(a["createVNode"])("section",q,[_,Object(a["createVNode"])("div",F,[Object(a["createVNode"])("div",J,[Object(a["createVNode"])("div",L,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.recommends,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(E,{key:e,class:"col-md d-block link-reset",to:"/recipe/".concat(e.id)},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",T,[Object(a["createVNode"])("img",{class:"img-cover img-center w-100",src:e.imageUrl,alt:e.subtitle},null,8,["src","alt"]),Object(a["createVNode"])("div",U,[Object(a["createVNode"])("div",A,Object(a["toDisplayString"])(e.subtitle),1),Object(a["createVNode"])("div",H,Object(a["toDisplayString"])(e.title),1),Object(a["createVNode"])(E,{class:"fly-in-down",to:"/recipe/".concat(e.id)},{default:Object(a["withCtx"])((function(){return[W]})),_:2},1032,["to"])])])]})),_:2},1032,["to"])})),128))])])])])])]),Object(a["createVNode"])(G,{id:"product-modal",product:r.modalItem,onSubmitCartItem:z.addCartItem},null,8,["product","onSubmitCartItem"])],64)}var E=c("2909"),G=c("5530"),K=(c("d3b7"),c("3ca3"),c("ddb0"),c("99af"),c("d81d"),c("9011")),Q=c("95dc"),X=c("0feb"),Y={name:"Recipe",mixins:[K["a"],Q["g"],Q["d"]],components:{ProductModal:X["a"]},data:function(){return{recipe:this.defaultRecipe(),related:this.defaultProduct(),recommends:[],modalItem:this.defaultProduct()}},methods:{defaultRecipe:function(){return{content:{ingredients:[{}],steps:[]}}},defaultProduct:function(){return{info:{},content:{},qty:1}},showModal:function(e){this.modalItem=Object(G["a"])(Object(G["a"])({},e),{},{qty:1})},getRecipe:function(e){var t=this;this.$loading.show();var c={id:e},a=function(e){t.recipe=e.article},n=function(){t.$router.push("/recipes")};return this.sendRequest("getArticle",c,null,a,n).finally(this.$loading.hide)},getRelated:function(e){var t=this;this.$loading.show();var c={id:e},a=function(e){t.related=e.product};return this.sendRequest("getProduct",c,null,a,null).finally(this.$loading.hide)},getRecommend:function(e){var t=this;this.$loading.show();var c={id:e},a=function(e){t.recommends.push(e.article)};return this.sendRequest("getArticle",c,null,a,null).finally(this.$loading.hide)},addCartItem:function(e){var t=this;this.$loading.show();var c={data:{product_id:e.id,qty:e.qty}},a=function(e){t.pushMessageSuccess(e.message),t.emit("update-item-count")},n=function(e){t.pushMessageFailure(e.message)};return this.sendRequest("addCartItem",null,c,a,n).finally(this.$loading.hide)}},created:function(){var e=this;this.getRecipe(this.$route.params.id).then((function(){return Promise.all([e.getRelated(e.recipe.related)].concat(Object(E["a"])(e.recipe.recommends.map((function(t){return e.getRecommend(t)})))))}))}};Y.render=z;t["default"]=Y},7355:function(e,t,c){"use strict";var a=c("7a23"),n=Object(a["withScopeId"])("data-v-77a9b0b7");Object(a["pushScopeId"])("data-v-77a9b0b7");var r={class:"counter"},o={class:"digit"};Object(a["popScopeId"])();var i=n((function(e,t,c,n,i,s){return Object(a["openBlock"])(),Object(a["createBlock"])("table",r,[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{class:"minus",onClick:t[1]||(t[1]=function(){return s.decrease&&s.decrease.apply(s,arguments)})},"-"),Object(a["createVNode"])("td",o,Object(a["toDisplayString"])(c.value),1),Object(a["createVNode"])("td",{class:"plus",onClick:t[2]||(t[2]=function(){return s.increase&&s.increase.apply(s,arguments)})},"+")])])})),s=(c("a9e3"),{name:"Counter",props:{min:{type:Number,default:1},max:{type:Number,default:99},value:{type:Number,default:0}},emits:["update:value"],methods:{increase:function(){this.value>=this.max||this.$emit("update:value",this.value+1)},decrease:function(){this.value<=this.min||this.$emit("update:value",this.value-1)}}});c("b56a");s.render=i,s.__scopeId="data-v-77a9b0b7";t["a"]=s},"95dc":function(e,t,c){"use strict";c.d(t,"f",(function(){return n})),c.d(t,"g",(function(){return r})),c.d(t,"b",(function(){return o})),c.d(t,"d",(function(){return i})),c.d(t,"e",(function(){return s})),c.d(t,"a",(function(){return l})),c.d(t,"c",(function(){return d}));var a=function(e){return{all:e=e||new Map,on:function(t,c){var a=e.get(t);a&&a.push(c)||e.set(t,[c])},off:function(t,c){var a=e.get(t);a&&a.splice(a.indexOf(c)>>>0,1)},emit:function(t,c){(e.get(t)||[]).slice().map((function(e){e(c)})),(e.get("*")||[]).slice().map((function(e){e(t,c)}))}}},n={name:"RouterMixin",provide:function(){return{emitter:a()}},data:function(){return{emitter:{}}},created:function(){this.emitter=this.$.provides.emitter}},r={name:"TransmitterMixin",inject:["emitter"],methods:{emit:function(e,t){this.emitter.emit(e,t)}}},o={name:"DialogTransmitterMixin",extends:r,methods:{pushDialog:function(e,t,c,a,n){this.emit("push-dialog",{type:e||"alert",title:t,content:c,onConfirm:a,onCancel:n})},pushAlert:function(e,t,c){this.pushDialog("alert",e,t,c)},pushConfirm:function(e,t,c,a){this.pushDialog("confirm",e,t,c,a)}}},i={name:"MessageTransmitterMixin",extends:r,methods:{pushMessage:function(e,t,c){this.emit("push-message",{style:e||"success",title:t,content:c})},pushMessageSuccess:function(e,t){this.pushMessage("success",e,t)},pushMessageFailure:function(e,t){this.pushMessage("danger",e,t)}}},s={name:"ReceiverMixin",inject:["emitter"],methods:{initReceiver:function(e,t){this.emitter.on(e,t)}}},l={name:"DialogReceiverMixin",extends:s,methods:{initDialogReceiver:function(e){this.initReceiver("push-dialog",(function(t){e.push(t)}))}}},d={name:"MessageReceiverMixin",extends:s,methods:{initMessageReceiver:function(e){this.initReceiver("push-message",(function(t){e.push(t)}))}}}},a1f8:function(e,t,c){},b56a:function(e,t,c){"use strict";c("a1f8")},d81d:function(e,t,c){"use strict";var a=c("23e7"),n=c("b727").map,r=c("1dde"),o=r("map");a({target:"Array",proto:!0,forced:!o},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-3c2006a2.1ecd2436.js.map