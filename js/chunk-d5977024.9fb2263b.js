(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5977024"],{"0753":function(e,t,c){e.exports=c.p+"img/title-dec-sm.58dd17b9.png"},2532:function(e,t,c){"use strict";var n=c("23e7"),r=c("5a34"),s=c("1d80"),o=c("577e"),i=c("ab13");n({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~o(s(this)).indexOf(o(r(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,c){var n=c("861d"),r=c("c6b6"),s=c("b622"),o=s("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},"5a34":function(e,t,c){var n=c("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5fa3":function(e,t,c){"use strict";var n=c("2909");c("caad"),c("2532"),c("a434"),c("159b"),c("d81d"),c("b64b");t["a"]={name:"SizeSynchronizerMixin",data:function(){return{sizeSyncElGroups:{default:[]},syncInterval:300}},methods:{pushSizeSyncEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";t in this.sizeSyncElGroups||(this.sizeSyncElGroups[t]=[]),this.sizeSyncElGroups[t].includes(e)||this.sizeSyncElGroups[t].push(e)},removeSizeSyncEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",c=this.sizeSyncElGroups[t].indexOf(e);c>-1&&this.sizeSyncElGroups[t].splice(c,1)},removeAllSizeSyncEls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.sizeSyncElGroups[e]=[]},syncElGroup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=this.sizeSyncElGroups[e];t.forEach((function(e){e.style.height=null}));var c=Math.max.apply(Math,Object(n["a"])(t.map((function(e){return e.clientHeight}))));t.forEach((function(e){e.clientHeight!==c&&(e.style.height="".concat(c,"px"))}))},syncElGroups:function(){Object.keys(this.sizeSyncElGroups).forEach(this.syncElGroup)}},created:function(){setInterval(this.syncElGroups,this.syncInterval)}}},7355:function(e,t,c){"use strict";var n=c("7a23"),r=Object(n["withScopeId"])("data-v-77a9b0b7");Object(n["pushScopeId"])("data-v-77a9b0b7");var s={class:"counter"},o={class:"digit"};Object(n["popScopeId"])();var i=r((function(e,t,c,r,i,a){return Object(n["openBlock"])(),Object(n["createBlock"])("table",s,[Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("td",{class:"minus",onClick:t[1]||(t[1]=function(){return a.decrease&&a.decrease.apply(a,arguments)})},"-"),Object(n["createVNode"])("td",o,Object(n["toDisplayString"])(c.value),1),Object(n["createVNode"])("td",{class:"plus",onClick:t[2]||(t[2]=function(){return a.increase&&a.increase.apply(a,arguments)})},"+")])])})),a=(c("a9e3"),{name:"Counter",props:{min:{type:Number,default:1},max:{type:Number,default:99},value:{type:Number,default:0}},emits:["update:value"],methods:{increase:function(){this.value>=this.max||this.$emit("update:value",this.value+1)},decrease:function(){this.value<=this.min||this.$emit("update:value",this.value-1)}}});c("b56a");a.render=i,a.__scopeId="data-v-77a9b0b7";t["a"]=a},"95dc":function(e,t,c){"use strict";c.d(t,"f",(function(){return r})),c.d(t,"g",(function(){return s})),c.d(t,"b",(function(){return o})),c.d(t,"d",(function(){return i})),c.d(t,"e",(function(){return a})),c.d(t,"a",(function(){return l})),c.d(t,"c",(function(){return d}));var n=function(e){return{all:e=e||new Map,on:function(t,c){var n=e.get(t);n&&n.push(c)||e.set(t,[c])},off:function(t,c){var n=e.get(t);n&&n.splice(n.indexOf(c)>>>0,1)},emit:function(t,c){(e.get(t)||[]).slice().map((function(e){e(c)})),(e.get("*")||[]).slice().map((function(e){e(t,c)}))}}},r={name:"RouterMixin",provide:function(){return{emitter:n()}},data:function(){return{emitter:{}}},created:function(){this.emitter=this.$.provides.emitter}},s={name:"TransmitterMixin",inject:["emitter"],methods:{emit:function(e,t){this.emitter.emit(e,t)}}},o={name:"DialogTransmitterMixin",extends:s,methods:{pushDialog:function(e,t,c,n,r){this.emit("push-dialog",{type:e||"alert",title:t,content:c,onConfirm:n,onCancel:r})},pushAlert:function(e,t,c){this.pushDialog("alert",e,t,c)},pushConfirm:function(e,t,c,n){this.pushDialog("confirm",e,t,c,n)}}},i={name:"MessageTransmitterMixin",extends:s,methods:{pushMessage:function(e,t,c){this.emit("push-message",{style:e||"success",title:t,content:c})},pushMessageSuccess:function(e,t){this.pushMessage("success",e,t)},pushMessageFailure:function(e,t){this.pushMessage("danger",e,t)}}},a={name:"ReceiverMixin",inject:["emitter"],methods:{initReceiver:function(e,t){this.emitter.on(e,t)}}},l={name:"DialogReceiverMixin",extends:a,methods:{initDialogReceiver:function(e){this.initReceiver("push-dialog",(function(t){e.push(t)}))}}},d={name:"MessageReceiverMixin",extends:a,methods:{initMessageReceiver:function(e){this.initReceiver("push-message",(function(t){e.push(t)}))}}}},a1f8:function(e,t,c){},a434:function(e,t,c){"use strict";var n=c("23e7"),r=c("23cb"),s=c("a691"),o=c("50c4"),i=c("7b0b"),a=c("65f0"),l=c("8418"),d=c("1dde"),u=d("splice"),p=Math.max,f=Math.min,b=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var c,n,d,u,h,g,j=i(this),O=o(j.length),v=r(e,O),y=arguments.length;if(0===y?c=n=0:1===y?(c=0,n=O-v):(c=y-2,n=f(p(s(t),0),O-v)),O+c-n>b)throw TypeError(m);for(d=a(j,n),u=0;u<n;u++)h=v+u,h in j&&l(d,u,j[h]);if(d.length=n,c<n){for(u=v;u<O-n;u++)h=u+n,g=u+c,h in j?j[g]=j[h]:delete j[g];for(u=O;u>O-n+c;u--)delete j[u-1]}else if(c>n)for(u=O-n;u>v;u--)h=u+n-1,g=u+c-1,h in j?j[g]=j[h]:delete j[g];for(u=0;u<c;u++)j[u+v]=arguments[u+2];return j.length=O-n+c,d}})},ab13:function(e,t,c){var n=c("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},b56a:function(e,t,c){"use strict";c("a1f8")},caad:function(e,t,c){"use strict";var n=c("23e7"),r=c("4d64").includes,s=c("44d2");n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},d2f1:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),r=c("0753"),s=c.n(r),o={class:"min-vh-100 py-7"},i={class:"container"},a={class:"row mt-lg-6"},l={class:"col-lg-3 col align-self-center"},d={class:"mx-lg-0 mx-sm-7 mx-5 my-lg-0 mb-5"},u={class:"offset-lg-1 col-lg-8 align-self-start"},p={class:"border-bottom border-primary pb-sm-4 pb-1"},f={class:"row align-items-end"},b={class:"col-sm"},m={class:"text-uppercase"},h={class:"mb-0"},g={class:"col-auto"},j={class:"font-sans fs-7 lh-sm ls-sm text-primary d-sm-block d-none"},O={key:0},v=Object(n["createVNode"])("td",{class:"text-end"},"年份：",-1),y=Object(n["createVNode"])("td",{class:"text-end"},"酒精濃度：",-1),x=Object(n["createVNode"])("td",{class:" text-end"},"容量：",-1),N={class:"d-sm-none d-block mt-3"},V={class:"font-sanse fs-7 lh-sm ls-sm text-primary"},S={key:0},w={class:"border-bottom border-primary mt-4 pt-2 pb-3"},k={class:"mb-4"},D={class:"row text-center lh-base gx-2 gx-sm-1"},M={class:"col"},E=Object(n["createVNode"])("h4",null,"香氣",-1),C={class:"font-sans fs-7 fw-light ls-sm"},z={class:"col"},$=Object(n["createVNode"])("h4",null,"口感",-1),R={class:"font-sans fs-7 fw-light ls-sm"},G={class:"col"},B=Object(n["createVNode"])("h4",null,"餘韻",-1),T={class:"font-sans fs-7 fw-light ls-sm"},q={class:"row align-items-start pt-4 gy-3"},I={class:"col-md-auto me-3"},P=Object(n["createVNode"])("span",{class:"fs-5 text-primary"},"售價：",-1),_={class:"fs-3 text-primary"},A={class:"fs-6 fw-bold text-primary"},H={class:"fs-5 text-decoration-line-through"},F={class:"col d-flex justify-content-md-end justify-content-between"},L={class:"mt-8"},U=Object(n["createVNode"])("div",{class:"text-center col-8 mx-auto"},[Object(n["createVNode"])("h3",{class:"mb-0 lh-1"},"精選推薦"),Object(n["createVNode"])("img",{class:"mw-100",src:s.a,alt:""})],-1),J={class:"col-md-9 mx-auto"},K={class:"row row-cols-sm-3 row-cols-2 align-items-stretch gx-xl-7 gx-sm-5 gy-5 mt-5"},Q={class:"position-relative w-100 my-auto"},W={class:"cover-parent overlay-dark hover text-center ls-sm d-flex\n                    flex-column justify-content-center"},X={class:"fs-8 fw-bold text-uppercase mb-3"},Y={class:"mb-2"},Z={class:"fw-bold text-primary"},ee={class:"fs-5"},te={class:"fs-6"},ce={class:"fs-6 text-decoration-line-through"};function ne(e,t,c,r,s,ne){var re=Object(n["resolveComponent"])("Counter"),se=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])("section",a,[Object(n["createVNode"])("div",l,[Object(n["createVNode"])("div",d,[Object(n["createVNode"])("img",{class:"w-100",src:s.product.imageUrl,alt:s.product.subtitle},null,8,["src","alt"])])]),Object(n["createVNode"])("div",u,[Object(n["createVNode"])("div",p,[Object(n["createVNode"])("div",f,[Object(n["createVNode"])("div",b,[Object(n["createVNode"])("h6",m,Object(n["toDisplayString"])(s.product.subtitle),1),Object(n["createVNode"])("h2",h,Object(n["toDisplayString"])(s.product.title),1)]),Object(n["createVNode"])("div",g,[Object(n["createVNode"])("table",j,[s.product.info.vintage?(Object(n["openBlock"])(),Object(n["createBlock"])("tr",O,[v,Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(s.product.info.vintage)+"年",1)])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("tr",null,[y,Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(s.product.info.abv)+"％",1)]),Object(n["createVNode"])("tr",null,[x,Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(s.product.info.volume),1)])]),Object(n["createVNode"])("div",N,[Object(n["createVNode"])("p",V,[s.product.info.vintage?(Object(n["openBlock"])(),Object(n["createBlock"])("span",S,Object(n["toDisplayString"])(s.product.info.vintage)+"年 /",1)):Object(n["createCommentVNode"])("",!0),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(s.product.info.abv)+"％ / "+Object(n["toDisplayString"])(s.product.info.volume),1)])])])])]),Object(n["createVNode"])("div",w,[Object(n["createVNode"])("div",k,[Object(n["createVNode"])("p",{class:"font-sans fw-light ls-sm",innerHTML:e.$helper.preserveBreak(s.product.content.main)},null,8,["innerHTML"])]),Object(n["createVNode"])("div",D,[Object(n["createVNode"])("div",M,[E,Object(n["createVNode"])("p",C,Object(n["toDisplayString"])(s.product.content.nose),1)]),Object(n["createVNode"])("div",z,[$,Object(n["createVNode"])("p",R,Object(n["toDisplayString"])(s.product.content.palate),1)]),Object(n["createVNode"])("div",G,[B,Object(n["createVNode"])("p",T,Object(n["toDisplayString"])(s.product.content.finish),1)])])]),Object(n["createVNode"])("div",q,[Object(n["createVNode"])("div",I,[P,Object(n["createVNode"])("span",_,Object(n["toDisplayString"])(e.$helper.currency(s.product.price)),1),Object(n["createVNode"])("span",A,"/"+Object(n["toDisplayString"])(s.product.unit)+" ",1),Object(n["createVNode"])("span",H,Object(n["toDisplayString"])(e.$helper.currency(s.product.origin_price)),1)]),Object(n["createVNode"])("div",F,[Object(n["createVNode"])(re,{class:"counter-lg flex-grow-1",value:s.product.qty,"onUpdate:value":t[1]||(t[1]=function(e){return s.product.qty=e})},null,8,["value"]),Object(n["createVNode"])("button",{class:"btn btn-primary ms-4",type:"button",onClick:t[2]||(t[2]=function(e){return ne.addCartItem(s.product)})},"加入購物車")])])])]),Object(n["createVNode"])("section",L,[U,Object(n["createVNode"])("div",J,[Object(n["createVNode"])("div",K,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(s.recommends,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t,class:"col d-flex flex-column lh-sm"},[Object(n["createVNode"])("div",{class:"d-flex flex-column",ref:function(t){t&&e.pushSizeSyncEl(t)}},[Object(n["createVNode"])("div",Q,[Object(n["createVNode"])("img",{class:"w-100",src:t.imageUrl,alt:t.subtitle},null,8,["src","alt"]),Object(n["createVNode"])("div",W,[Object(n["createVNode"])("div",X,Object(n["toDisplayString"])(t.subtitle),1),Object(n["createVNode"])("div",Y,Object(n["toDisplayString"])(t.title),1),Object(n["createVNode"])("div",Z,[Object(n["createVNode"])("span",ee,Object(n["toDisplayString"])(e.$helper.currency(t.price)),1),Object(n["createVNode"])("span",te,"/"+Object(n["toDisplayString"])(t.unit)+" ",1),Object(n["createVNode"])("span",ce,Object(n["toDisplayString"])(e.$helper.currency(t.origin_price)),1)]),Object(n["createVNode"])(se,{class:"stretched-link",to:"/product/".concat(t.id)},null,8,["to"])])])],512),Object(n["createVNode"])(se,{class:"fs-8 fw-bold ls-sm text-center text-uppercase pt-3\n                text-light text-decoration-none text-truncate truncate-multi-line",to:"/product/".concat(t.id)},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.subtitle),1)]})),_:2},1032,["to"]),Object(n["createVNode"])(se,{class:"fs-6 ls-sm text-center pt-1 text-light text-decoration-none",to:"/product/".concat(t.id)},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.title),1)]})),_:2},1032,["to"])])})),128))])])])])])}var re=c("2909"),se=(c("d3b7"),c("3ca3"),c("ddb0"),c("d81d"),c("9011")),oe=c("95dc"),ie=c("5fa3"),ae=c("7355"),le={name:"Product",mixins:[se["a"],oe["g"],oe["d"],ie["a"]],components:{Counter:ae["a"]},data:function(){return{product:this.defaultProduct(),recommends:[]}},methods:{defaultProduct:function(){return{info:{},content:{},qty:1}},getProduct:function(e){var t=this;this.$loading.show();var c={id:e},n=function(e){t.product=e.product,t.product.qty=1},r=function(){t.$router.push("/products")};return this.sendRequest("getProduct",c,null,n,r).finally(this.$loading.hide)},getRecommend:function(e){var t=this;this.$loading.show();var c={id:e},n=function(e){t.recommends.push(e.product)};return this.sendRequest("getProduct",c,null,n,null).finally(this.$loading.hide)},addCartItem:function(e){var t=this;this.$loading.show();var c={data:{product_id:e.id,qty:e.qty}},n=function(e){t.pushMessageSuccess(e.message),t.product.qty=1,t.emit("update-item-count")},r=function(e){t.pushMessageFailure(e.message)};return this.sendRequest("addCartItem",null,c,n,r).finally(this.$loading.hide)}},created:function(){var e=this;this.getProduct(this.$route.params.id).then((function(){return Promise.all(Object(re["a"])(e.product.recommends.map((function(t){return e.getRecommend(t)}))))}))}};le.render=ne;t["default"]=le},d81d:function(e,t,c){"use strict";var n=c("23e7"),r=c("b727").map,s=c("1dde"),o=s("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-d5977024.9fb2263b.js.map